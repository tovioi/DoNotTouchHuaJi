window.__require=function t(i,o,n){function c(s,r){if(!o[s]){if(!i[s]){var a=s.split("/");if(a=a[a.length-1],!i[a]){var u="function"==typeof __require&&__require;if(!r&&u)return u(a,!0);if(e)return e(a,!0);throw new Error("Cannot find module '"+s+"'")}}var l=o[s]={exports:{}};i[s][0].call(l.exports,function(t){return c(i[s][1][t]||t)},l,l.exports,t,i,o,n)}return o[s].exports}for(var e="function"==typeof __require&&__require,s=0;s<n.length;s++)c(n[s]);return c}({"block-script":[function(t,i,o){"use strict";cc._RF.push(i,"7fab1za4WxPZaPV50LPABRF","block-script"),cc.Class({extends:cc.Component,properties:{_type:null,_mainScript:null,touchAudio:{default:null,type:cc.AudioClip},gameOverAudio:{default:null,type:cc.AudioClip}},init:function(t,i){this._type=t,this._mainScript=i,this.node.on("touchstart",function(){if("huaji"==this._type)console.log("game over!"),cc.director.loadScene("end-scene"),this.node.runAction(cc.callFunc(this.playGameOverAudio.bind(this)));else{var t=this.node.name.split("#")[0];parseInt(t)!==this._mainScript._curTouchRow+1?(console.log("GAME OVER!"),this.node.runAction(cc.callFunc(this.playGameOverAudio.bind(this))),cc.director.loadScene("end-scene")):(console.log("go on!"),this.node.runAction(cc.callFunc(this.playAudio.bind(this))),this._mainScript.move())}}.bind(this))},playAudio:function(){cc.audioEngine.playEffect(this.touchAudio,!1)},playGameOverAudio:function(){cc.audioEngine.playEffect(this.gameOverAudio,!1)}}),cc._RF.pop()},{}],"end-script":[function(t,i,o){"use strict";cc._RF.push(i,"5240foG9ERMqp4qLP2OFkGi","end-script"),cc.Class({extends:cc.Component,properties:{endScore:cc.Label},onLoad:function(){this.endScore.string="\u6700\u7ec8\u5f97\u5206:\u6211\u4e5f\u4e0d\u77e5\u9053\u554a\uff01"},start:function(){}}),cc._RF.pop()},{}],"main-script":[function(t,i,o){"use strict";cc._RF.push(i,"bb101h3IBFGD7/Ye86vN0Un","main-script"),cc.Class({extends:cc.Component,editor:{},properties:{movePanel:cc.Node,blackBlock:cc.Prefab,huajiBlock:cc.Prefab,initRow:6,initCol:4,_newTopRow:null,_curBottomRow:null,_curTouchRow:-1,_startPosition:null,score:{default:null,type:cc.Label}},onLoad:function(){this._newTopRow=this.initRow,this._curBottomRow=0,this._startPosition=this.movePanel.position;for(var t=0;t<this.initRow;t++){var i=Math.floor(Math.random()*this.initCol);console.log(i);for(var o=0;o<this.initCol;o++){var n=null;i==o?(n=cc.instantiate(this.blackBlock)).getComponent("block-script").init("black",this):(n=cc.instantiate(this.huajiBlock)).getComponent("block-script").init("huaji",this),n.parent=this.movePanel,n.name=t+"#"+o;var c=cc.v2(o,t);n.position=c.mul(150)}}},move:function(){console.log("move!");var t=cc.v2(this._startPosition.x,this._startPosition.y+-150*(this._curTouchRow+2));this.movePanel.runAction(cc.sequence(cc.moveTo(.2,t),cc.callFunc(this.updateRender.bind(this))))},updateRender:function(){for(var t=Math.floor(Math.random()*this.initCol),i=this._newTopRow,o=0;o<this.initCol;o++){var n=null;t==o?(n=cc.instantiate(this.blackBlock)).getComponent("block-script").init("black",this):(n=cc.instantiate(this.huajiBlock)).getComponent("block-script").init("huaji",this),n.parent=this.movePanel,n.name=i+"#"+o;var c=cc.v2(o,i);n.position=c.mul(150)}for(var e=this._curBottomRow,s=0;s<this.initCol;s++)this.movePanel.getChildByName(e+"#"+s).removeFromParent;this._curBottomRow++,this._curTouchRow++,this._newTopRow++;var r="Score:"+(this._curTouchRow+1);this.score.string=r},update:function(t){}}),cc._RF.pop()},{}],"start-button-script":[function(t,i,o){"use strict";cc._RF.push(i,"895c25hMahOD484EulkYzyf","start-button-script"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},touchStartButton:function(){cc.director.loadScene("main-scene")},start:function(){}}),cc._RF.pop()},{}]},{},["block-script","end-script","main-script","start-button-script"]);